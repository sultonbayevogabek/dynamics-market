"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=928,exports.ids=[928],exports.modules={2928:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OAuthCallbackModule:()=>OAuthCallbackModule});var asyncToGenerator=__webpack_require__(15861),cjs=__webpack_require__(76477),core=__webpack_require__(5e3),router=__webpack_require__(74202),auth_service=__webpack_require__(10629),loader_spinner_component=__webpack_require__(73739);class OAuthCallbackComponent{constructor(activatedRoute,authService){this.activatedRoute=activatedRoute,this.authService=authService}ngOnInit(){var _this=this;return(0,asyncToGenerator.Z)(function*(){yield _this.authWithGoogle()})()}authWithGoogle(){var _this2=this;return(0,asyncToGenerator.Z)(function*(){if(!_this2.idToken)return void _this2.onAuthFailed();const response=yield(0,cjs.firstValueFrom)(_this2.authService.authWithGoogle(_this2.idToken));response&&response.token?_this2.onAuthSucceed(response.token):_this2.onAuthFailed()})()}onAuthFailed(){window.opener.receiveData({success:!1}),window.close()}onAuthSucceed(token){window.opener.receiveData({success:!0,token}),window.close()}get idToken(){var _a;const fragment=this.activatedRoute.snapshot.fragment;if(!fragment)return null;const match=fragment.match(/id_token=([^&]+)/);return match?null===(_a=match[1])||void 0===_a?void 0:_a.replace("id_token=",""):null}}__name(OAuthCallbackComponent,"OAuthCallbackComponent"),OAuthCallbackComponent.\u0275fac=__name(function(t){return new(t||OAuthCallbackComponent)(core.Y36(router.gz),core.Y36(auth_service.e))},"OAuthCallbackComponent_Factory"),OAuthCallbackComponent.\u0275cmp=core.Xpm({type:OAuthCallbackComponent,selectors:[["oauth-callback"]],decls:2,vars:0,consts:[[1,"oauth-callback","position-fixed","vw-100","vh-100","d-flex","align-items-center","justify-content-center","bg-white"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"app-loader-spinner"),core.qZA())},"OAuthCallbackComponent_Template"),directives:[loader_spinner_component.I],styles:[".oauth-callback[_ngcontent-%COMP%]{z-index:9999;top:0}"]});var shared_module=__webpack_require__(1255);class OAuthCallbackModule{}__name(OAuthCallbackModule,"OAuthCallbackModule"),OAuthCallbackModule.\u0275fac=__name(function(t){return new(t||OAuthCallbackModule)},"OAuthCallbackModule_Factory"),OAuthCallbackModule.\u0275mod=core.oAB({type:OAuthCallbackModule}),OAuthCallbackModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild([{path:"oauth-callback",component:OAuthCallbackComponent}]),shared_module.m],router.Bz]})},73739:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>LoaderSpinnerComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(69808);const _c0=__name(function(a0,a1,a2){return{width:a0,height:a1,borderWidth:a2}},"_c0");class LoaderSpinnerComponent{constructor(){this.size=100,this.borderWidth=3,this.color="black"}}__name(LoaderSpinnerComponent,"LoaderSpinnerComponent"),LoaderSpinnerComponent.\u0275fac=__name(function(t){return new(t||LoaderSpinnerComponent)},"LoaderSpinnerComponent_Factory"),LoaderSpinnerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:LoaderSpinnerComponent,selectors:[["app-loader-spinner"]],inputs:{size:"size",borderWidth:"borderWidth",color:"color"},decls:1,vars:7,consts:[[1,"loader-spinner",3,"ngStyle"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"div",0),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("white","white"===ctx.color),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngStyle",_angular_core__WEBPACK_IMPORTED_MODULE_0__.kEZ(3,_c0,ctx.size+"px",ctx.size+"px",ctx.borderWidth+"px")))},"LoaderSpinnerComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.PC],styles:['@keyframes loader-spinner-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loader-spinner[_ngcontent-%COMP%]{box-sizing:border-box;content:"";display:block;border-style:solid;border-color:#0003;border-radius:50%;border-top-color:#0009;animation-name:loader-spinner-animation;animation-duration:.5s;animation-timing-function:linear;animation-iteration-count:infinite}.loader-spinner.white[_ngcontent-%COMP%]{border-color:#ffffff80;border-top-color:#fff}']})}};