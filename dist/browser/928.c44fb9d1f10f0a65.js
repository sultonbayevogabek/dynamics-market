"use strict";(self.webpackChunkdynamics_market=self.webpackChunkdynamics_market||[]).push([[928],{2928:(p,u,n)=>{n.r(u),n.d(u,{OAuthCallbackModule:()=>f});var i=n(5861),r=n(3905),a=n(5e3),c=n(6617),h=n(629),d=n(3739);let m=(()=>{class e{constructor(t,o){this.activatedRoute=t,this.authService=o}ngOnInit(){var t=this;return(0,i.Z)(function*(){yield t.authWithGoogle()})()}authWithGoogle(){var t=this;return(0,i.Z)(function*(){if(!t.idToken)return void t.onAuthFailed();const o=yield(0,r.z)(t.authService.authWithGoogle(t.idToken));o&&o.token?t.onAuthSucceed(o.token):t.onAuthFailed()})()}onAuthFailed(){window.opener.receiveData({success:!1}),window.close()}onAuthSucceed(t){window.opener.receiveData({success:!0,token:t}),window.close()}get idToken(){var t;const o=this.activatedRoute.snapshot.fragment;if(!o)return null;const s=o.match(/id_token=([^&]+)/);return s?null===(t=s[1])||void 0===t?void 0:t.replace("id_token=",""):null}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.gz),a.Y36(h.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["oauth-callback"]],decls:2,vars:0,consts:[[1,"oauth-callback","position-fixed","vw-100","vh-100","d-flex","align-items-center","justify-content-center","bg-white"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"app-loader-spinner"),a.qZA())},directives:[d.I],styles:[".oauth-callback[_ngcontent-%COMP%]{z-index:9999;top:0}"]}),e})();var v=n(1255);let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[c.Bz.forChild([{path:"oauth-callback",component:m}]),v.m],c.Bz]}),e})()}}]);